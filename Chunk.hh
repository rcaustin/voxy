#ifndef CHUNK_HH
#define CHUNK_HH

/////////////////////////////////////////////////////////////////////////////////////////////////////
// External Headers
/////////////////////////////////////////////////////////////////////////////////////////////////////

#include <glm/glm.hpp>

/////////////////////////////////////////////////////////////////////////////////////////////////////
// Engine Headers
/////////////////////////////////////////////////////////////////////////////////////////////////////

#include "VoxelMesh.hh"


/////////////////////////////////////////////////////////////////////////////////////////////////////
// Chunk Interface
/////////////////////////////////////////////////////////////////////////////////////////////////////

class Chunk {

public:
                         Chunk(const glm::ivec3& p_gridOrigin);

  void                   Update();
  void                   Render();

  static constexpr int   CHUNK_SIZE{16};
  static constexpr float BLOCK_WIDTH{10.0f};
  static constexpr float CHUNK_WIDTH{CHUNK_SIZE * BLOCK_WIDTH};

private:
  int                    m_blocks[CHUNK_SIZE][CHUNK_SIZE][CHUNK_SIZE];
  VoxelMesh              m_mesh;
  glm::ivec3             m_gridCoordinates;
  glm::vec3              m_origin;
  bool                   m_needsMeshUpdate;

  void                   ExtractMesh();
};

/////////////////////////////////////////////////////////////////////////////////////////////////////

#endif  // CHUNK
